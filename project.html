<!-- viewer.html -->
<!DOCTYPE html>
<html>
  <body>
    <button id="start">Start Mirroring</button><br />
    <video id="preview" autoplay playsinline style="width:100%;max-width:800px"></video>

    <script>
      const btn = document.getElementById('start');
      const video = document.getElementById('preview');

      btn.addEventListener('click', async () => {
        btn.style.display = 'none';

        const stream = await navigator.mediaDevices.getDisplayMedia({
          video: {
            displaySurface: 'browser',
            logicalSurface: true,
            cursor: 'never'
          }
        });

        video.srcObject = stream;
      });
    </script>
  </body>
</html>
